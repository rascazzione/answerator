{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/masudimran/Downloads/Archive2/src/components/QuestionView/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { useParams } from \"react-router-dom\";\nimport { publicFetch } from '../../util/fetcher';\nimport { FetchContext } from '../../store/fetch';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst QuestionDetail = ({\n  questionId,\n  title\n}) => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [question, setQuestion] = useState(null);\n  const {\n    authAxios\n  } = useContext(FetchContext);\n  const [questions, setQuestions] = useState(null);\n  useEffect(() => {\n    const fetchQuestion = async () => {\n      const {\n        data\n      } = await publicFetch.get(`/question/${id}`);\n      setQuestion(data);\n    };\n\n    if (question === null) fetchQuestion();\n\n    const fetchQuestions = async () => {\n      const {\n        data\n      } = await publicFetch.get('/question');\n      setQuestions(data);\n    };\n\n    if (questions === null) {\n      fetchQuestions();\n    }\n  });\n\n  const upVote = async aid => {\n    await authAxios.get(`/votes/upvote/${id}/${aid}`);\n    window.location.reload();\n  };\n\n  function similarity(s1, s2) {\n    var longer = s1;\n    var shorter = s2;\n\n    if (s1.length < s2.length) {\n      longer = s2;\n      shorter = s1;\n    }\n\n    var longerLength = longer.length;\n\n    if (longerLength === 0) {\n      return 1.0;\n    }\n\n    return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);\n  }\n\n  function editDistance(s1, s2) {\n    s1 = s1.toLowerCase();\n    s2 = s2.toLowerCase();\n    var x = 1;\n    var costs = [];\n\n    for (var i = 0; i <= s1.length; i++) {\n      var lastValue = i;\n\n      for (var j = 0; j <= s2.length; j++) {\n        if (i === 0) costs[j] = j;else {\n          if (j > 0) {\n            var newValue = costs[j - 1];\n            if (s1.charAt(i - 1) !== s2.charAt(j - 1)) newValue = Math.min(Math.min(newValue, lastValue), costs[j]) + 1;\n            costs[j - 1] = lastValue;\n            lastValue = newValue;\n          }\n        }\n      }\n\n      if (i > 0) costs[s2.length] = lastValue;\n    }\n\n    return costs[s2.length];\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [question && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [question.answers.length == 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '40px',\n            width: \"70%\",\n            height: \"40%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Waiting for Answers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '40px',\n            border: '1px solid black',\n            width: \"70%\",\n            height: \"200px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: \"10px\",\n              width: \"40%\",\n              height: \"0%\"\n            },\n            children: question.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: \"60px\"\n            },\n            children: \"  \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 40\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png\",\n            alt: \"alternatetext\",\n            style: {\n              height: '90px',\n              marginLeft: '280px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"20px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              margin: \"10px\",\n              width: \"100%\",\n              height: \"0%\"\n            },\n            children: \"Your request has been sended, please be patient. In short time you\\u2019ll be answered.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }, this), question.answers.length > 0 && question.answers.sort().map(answer => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '40px',\n            border: '1px solid black',\n            width: \"70%\",\n            height: \"40%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              margin: \"10px\",\n              width: \"40%\",\n              height: \"40%\"\n            },\n            children: question.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"10px\",\n              padding: \"10px\",\n              width: \"40%\",\n              height: \"40%\"\n            },\n            children: answer.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            id: answer.id,\n            onClick: () => upVote(answer.id),\n            style: {\n              marginLeft: \"40px\",\n              margin: \"0px\",\n              padding: \"0px\",\n              display: \"inline\"\n            },\n            children: /*#__PURE__*/_jsxDEV(ThumbUpAltIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 37\n          }, this), answer.score, /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: \"450px\",\n              display: \"inline\"\n            },\n            children: [\"Answer by \", answer.author.username, \" on \", answer.created.slice(0, 10)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Similar Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), console.log(questions), (() => {\n        let high = 0;\n        let tempId = 0;\n        let tempTitle = \"\";\n\n        if (questions) {\n          for (let i = 0; i < questions.length; i++) {\n            if (question) {\n              if (question.id !== questions[i].id) {\n                let temp = similarity(questions[i].title, question.title);\n\n                if (temp > high) {\n                  high = temp;\n                  tempId = questions[i].id;\n                  tempTitle = questions[i].title;\n                }\n              }\n            }\n          }\n\n          return /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/question/${tempId}`,\n            children: tempTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 36\n          }, this);\n        }\n      })()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\n_s(QuestionDetail, \"T8CeDEuTTz91xFUWGLKU6QuZ2qw=\", false, function () {\n  return [useParams];\n});\n\n_c = QuestionDetail;\nexport default QuestionDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"QuestionDetail\");","map":{"version":3,"sources":["/Users/masudimran/Downloads/Archive2/src/components/QuestionView/index.js"],"names":["React","useEffect","useState","useContext","ThumbUpAltIcon","useParams","publicFetch","FetchContext","IconButton","QuestionDetail","questionId","title","id","question","setQuestion","authAxios","questions","setQuestions","fetchQuestion","data","get","fetchQuestions","upVote","aid","window","location","reload","similarity","s1","s2","longer","shorter","length","longerLength","editDistance","parseFloat","toLowerCase","x","costs","i","lastValue","j","newValue","charAt","Math","min","answers","marginLeft","width","height","border","margin","marginBottom","sort","map","answer","padding","text","display","score","author","username","created","slice","console","log","high","tempId","tempTitle","temp"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport { useParams } from \"react-router-dom\";\nimport { publicFetch } from '../../util/fetcher'\nimport { FetchContext } from '../../store/fetch'\nimport IconButton from '@material-ui/core/IconButton';\n\n\nconst QuestionDetail = ({ questionId, title }) => {\n    const { id } = useParams()\n    const [question, setQuestion] = useState(null)\n    const { authAxios } = useContext(FetchContext)\n    const [questions, setQuestions] = useState(null)\n\n    useEffect(() => {\n        const fetchQuestion = async () => {\n            const { data } = await publicFetch.get(`/question/${id}`)\n            setQuestion(data)\n        }\n        if (question === null)\n            fetchQuestion()\n\n        const fetchQuestions = async () => {\n            const { data } = await publicFetch.get('/question')\n            setQuestions(data)\n        }\n        if (questions === null) {\n            fetchQuestions()\n        }\n    })\n\n    const upVote = async (aid) => {\n        await authAxios.get(\n            `/votes/upvote/${id}/${aid}`\n        )\n        window.location.reload()\n    }\n\n    function similarity(s1, s2) {\n        var longer = s1;\n        var shorter = s2;\n        if (s1.length < s2.length) {\n            longer = s2;\n            shorter = s1;\n        }\n        var longerLength = longer.length;\n        if (longerLength === 0) {\n            return 1.0;\n        }\n        return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);\n    }\n\n    function editDistance(s1, s2) {\n        s1 = s1.toLowerCase();\n        s2 = s2.toLowerCase();\n        var x =1;\n        var costs = [];\n        for (var i = 0; i <= s1.length; i++) {\n            var lastValue = i;\n            for (var j = 0; j <= s2.length; j++) {\n                if (i === 0)\n                    costs[j] = j;\n                else {\n                    if (j > 0) {\n                        var newValue = costs[j - 1];\n                        if (s1.charAt(i - 1) !== s2.charAt(j - 1))\n                            newValue = Math.min(Math.min(newValue, lastValue),\n                                costs[j]) + 1;\n                        costs[j - 1] = lastValue;\n                        lastValue = newValue;\n                    }\n                }\n            }\n            if (i > 0)\n                costs[s2.length] = lastValue;\n        }\n        return costs[s2.length];\n    }\n\n\n\n    return (\n      \n       \n        <div>\n\n\n\n\n             {question && (\n                <>\n\n    {question.answers.length == 0 &&  (\n    \n                  \n                            \n                           \n                                  \n                            <div >\n                               \n                                <div style={{marginLeft:'40px',width: \"70%\", height: \"40%\"}}>\n                              \n                                 <h1>Waiting for Answers\n                                    </h1>\n                                </div>\n\n                                <div style={{marginLeft:'40px',border:'1px solid black',width: \"70%\", height: \"200px\"}}>\n                                <h2 style={{ margin: \"10px\" ,width: \"40%\", height: \"0%\"}}>{question.title}</h2>\n                                       <div style={{ marginBottom: \"60px\" }}>  </div>\n                                <img src=\"https://i.pinimg.com/originals/10/b2/f6/10b2f6d95195994fca386842dae53bb2.png\" alt=\"alternatetext\" style ={{height:'90px', marginLeft:'280px'}}></img>\n                                </div>\n                                <div style={{ marginBottom: \"20px\" }}>\n                               \n                                <h5 style={{ margin: \"10px\" ,width: \"100%\", height: \"0%\"}}>Your request has been sended, please be patient. In short time you’ll be answered.</h5>\n                                 \n                                </div>\n                                <hr />\n                            </div>\n                        )\n                    } \n                 \n                    {question.answers.length > 0 && (\n                        question.answers.sort().map((answer) => ( \n                            \n                           \n                                   \n                            <div >\n                                <div style={{marginLeft:'40px',border:'1px solid black',width: \"70%\", height: \"40%\"}}>\n                                <h2 style={{ margin: \"10px\" ,width: \"40%\", height: \"40%\"}}>{question.title}</h2>\n                                <div style={{ margin: \"10px\", padding: \"10px\", width: \"40%\", height: \"40%\" }}>{answer.text}</div>\n                                </div>\n                                <div style={{ marginBottom: \"20px\" }}>\n                               \n                                    <IconButton\n                                        id={answer.id}\n                                        onClick={() => upVote(answer.id)}\n                                        style={{\n                                            marginLeft: \"40px\",\n                                            margin: \"0px\",\n                                            padding: \"0px\",\n                                            display: \"inline\"\n                                        }} >\n                                        <ThumbUpAltIcon />\n                                    </IconButton>\n                                    {answer.score}\n                                    <div style={{\n                                        marginLeft: \"450px\",\n                                        display: \"inline\"\n                                    }}>Answer by {answer.author.username} on {answer.created.slice(0, 10)}</div>\n                                </div>\n                                <hr />\n                            </div>\n                        ))\n                    ) } \n                  \n                </>\n            )\n            }\n            <div>\n                <h3>Similar Question</h3>\n                {console.log(questions)}\n                {\n                    (() => {\n                        let high = 0;\n                        let tempId = 0;\n                        let tempTitle = \"\";\n                        if (questions) {\n                            for (let i = 0; i < questions.length; i++) {\n                                if (question) {\n                                    if (question.id !== questions[i].id) {\n                                        let temp = similarity(questions[i].title, question.title)\n                                        if (temp > high) {\n                                            high = temp\n                                            tempId = questions[i].id\n                                            tempTitle = questions[i].title\n                                        }\n                                    }\n                                }\n                            }\n                            return <a href={`/question/${tempId}`}>{tempTitle}</a>\n                        }\n                    })()\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default QuestionDetail\n"]},"metadata":{},"sourceType":"module"}